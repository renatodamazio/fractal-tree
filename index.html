<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

<canvas id="canvas" width="600" height="500"></canvas>

<input type="range" name="" id="lineWidth">
<input type="range" name="" id="branches">

<script type="text/javascript">

	var canvas = document.getElementById('canvas');
	var range_width = document.getElementById('lineWidth');
	var range_branches = document.getElementById('branches');
	var ctx = canvas.getContext('2d');
	var deg_to_rad = Math.PI / 180.0;
	var depth = 9;
	
	ctx.fillStyle = '#000';
	ctx.lineWidth = 1;
	
	function drawLine(x1, y1, x2, y2, brightness) {

		ctx.moveTo(x1, y1);
		ctx.lineTo(x2, y2);
	
	};

	function drawTree(x1, y1, angle, depth) {
		if(depth !== 0) {
			
			var x2 = x1 + (Math.cos(angle * deg_to_rad) * depth * 10.0);
			var y2 = y1 + (Math.sin(angle * deg_to_rad) * depth * 10.0); 
			drawLine(x1, y1, x2, y2, depth);
			drawTree(x2, y2, angle - 20, depth - 1);
			drawTree(x2, y2, angle + 20, depth - 1);
			
		}
	};

	ctx.beginPath();
	drawTree(300, 500, -90, depth);
	ctx.closePath();
	ctx.stroke();
</script>
 
</body>
</html>